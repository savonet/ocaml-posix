<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Posix_resource (posix-resource.Posix_resource)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">posix-resource</a> &#x00BB; Posix_resource</nav><header class="odoc-preamble"><h1>Module <code><span>Posix_resource</span></code></h1><p>High-level API to &lt;sys/resource.h&gt;. See: <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/sys_resource.h.html">sys/resource.h</a> for details on data structures and functions.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#resource-limit-constants">Resource limit constants</a></li><li><a href="#resource-usage-constants">Resource usage constants</a></li><li><a href="#priority-constants">Priority constants</a></li><li><a href="#resource-limit-types">Resource limit types</a></li><li><a href="#resource-usage-types">Resource usage types</a></li><li><a href="#resource-limit-functions">Resource limit functions</a></li><li><a href="#resource-usage-functions">Resource usage functions</a></li><li><a href="#priority-functions">Priority functions</a></li></ul></nav></div><div class="odoc-content"><h3 id="resource-limit-constants"><a href="#resource-limit-constants" class="anchor"></a>Resource limit constants</h3><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_cpu"><a href="#val-rlimit_cpu" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_cpu : int</span></code></div><div class="spec-doc"><p>CPU time limit in seconds</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_fsize"><a href="#val-rlimit_fsize" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_fsize : int</span></code></div><div class="spec-doc"><p>Maximum file size</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_data"><a href="#val-rlimit_data" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_data : int</span></code></div><div class="spec-doc"><p>Maximum data segment size</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_stack"><a href="#val-rlimit_stack" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_stack : int</span></code></div><div class="spec-doc"><p>Maximum stack size</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_core"><a href="#val-rlimit_core" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_core : int</span></code></div><div class="spec-doc"><p>Maximum core file size</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_nofile"><a href="#val-rlimit_nofile" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_nofile : int</span></code></div><div class="spec-doc"><p>Maximum number of open files</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlimit_as"><a href="#val-rlimit_as" class="anchor"></a><code><span><span class="keyword">val</span> rlimit_as : int</span></code></div><div class="spec-doc"><p>Maximum address space size</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rlim_infinity"><a href="#val-rlim_infinity" class="anchor"></a><code><span><span class="keyword">val</span> rlim_infinity : <span class="xref-unresolved">Unsigned</span>.uint64</span></code></div><div class="spec-doc"><p>Special value meaning no limit</p></div></div><h3 id="resource-usage-constants"><a href="#resource-usage-constants" class="anchor"></a>Resource usage constants</h3><div class="odoc-spec"><div class="spec value anchored" id="val-rusage_self"><a href="#val-rusage_self" class="anchor"></a><code><span><span class="keyword">val</span> rusage_self : int</span></code></div><div class="spec-doc"><p>Current process</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rusage_children"><a href="#val-rusage_children" class="anchor"></a><code><span><span class="keyword">val</span> rusage_children : int</span></code></div><div class="spec-doc"><p>All terminated and waited-for children</p></div></div><h3 id="priority-constants"><a href="#priority-constants" class="anchor"></a>Priority constants</h3><div class="odoc-spec"><div class="spec value anchored" id="val-prio_process"><a href="#val-prio_process" class="anchor"></a><code><span><span class="keyword">val</span> prio_process : int</span></code></div><div class="spec-doc"><p>Process priority</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prio_pgrp"><a href="#val-prio_pgrp" class="anchor"></a><code><span><span class="keyword">val</span> prio_pgrp : int</span></code></div><div class="spec-doc"><p>Process group priority</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prio_user"><a href="#val-prio_user" class="anchor"></a><code><span><span class="keyword">val</span> prio_user : int</span></code></div><div class="spec-doc"><p>User priority</p></div></div><h3 id="resource-limit-types"><a href="#resource-limit-types" class="anchor"></a>Resource limit types</h3><div class="odoc-spec"><div class="spec type anchored" id="type-rlimit"><a href="#type-rlimit" class="anchor"></a><code><span><span class="keyword">type</span> rlimit</span><span> = </span><span>{</span></code><ol><li id="type-rlimit.rlim_cur" class="def record field anchored"><a href="#type-rlimit.rlim_cur" class="anchor"></a><code><span>rlim_cur : <span class="xref-unresolved">Unsigned</span>.uint64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Current (soft) limit</p><span class="comment-delim">*)</span></div></li><li id="type-rlimit.rlim_max" class="def record field anchored"><a href="#type-rlimit.rlim_max" class="anchor"></a><code><span>rlim_max : <span class="xref-unresolved">Unsigned</span>.uint64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Maximum (hard) limit</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><h3 id="resource-usage-types"><a href="#resource-usage-types" class="anchor"></a>Resource usage types</h3><div class="odoc-spec"><div class="spec type anchored" id="type-rusage"><a href="#type-rusage" class="anchor"></a><code><span><span class="keyword">type</span> rusage</span><span> = </span><span>{</span></code><ol><li id="type-rusage.ru_utime" class="def record field anchored"><a href="#type-rusage.ru_utime" class="anchor"></a><code><span>ru_utime : <a href="../../posix-time2/Posix_time2/Timeval/index.html#type-t">Posix_time2.Timeval.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>User CPU time used</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_stime" class="def record field anchored"><a href="#type-rusage.ru_stime" class="anchor"></a><code><span>ru_stime : <a href="../../posix-time2/Posix_time2/Timeval/index.html#type-t">Posix_time2.Timeval.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>System CPU time used</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_maxrss" class="def record field anchored"><a href="#type-rusage.ru_maxrss" class="anchor"></a><code><span>ru_maxrss : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Maximum resident set size</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_ixrss" class="def record field anchored"><a href="#type-rusage.ru_ixrss" class="anchor"></a><code><span>ru_ixrss : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Integral shared memory size</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_idrss" class="def record field anchored"><a href="#type-rusage.ru_idrss" class="anchor"></a><code><span>ru_idrss : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Integral unshared data size</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_isrss" class="def record field anchored"><a href="#type-rusage.ru_isrss" class="anchor"></a><code><span>ru_isrss : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Integral unshared stack size</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_minflt" class="def record field anchored"><a href="#type-rusage.ru_minflt" class="anchor"></a><code><span>ru_minflt : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Page reclaims (soft page faults)</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_majflt" class="def record field anchored"><a href="#type-rusage.ru_majflt" class="anchor"></a><code><span>ru_majflt : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Page faults (hard page faults)</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_nswap" class="def record field anchored"><a href="#type-rusage.ru_nswap" class="anchor"></a><code><span>ru_nswap : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Swaps</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_inblock" class="def record field anchored"><a href="#type-rusage.ru_inblock" class="anchor"></a><code><span>ru_inblock : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Block input operations</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_oublock" class="def record field anchored"><a href="#type-rusage.ru_oublock" class="anchor"></a><code><span>ru_oublock : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Block output operations</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_msgsnd" class="def record field anchored"><a href="#type-rusage.ru_msgsnd" class="anchor"></a><code><span>ru_msgsnd : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>IPC messages sent</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_msgrcv" class="def record field anchored"><a href="#type-rusage.ru_msgrcv" class="anchor"></a><code><span>ru_msgrcv : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>IPC messages received</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_nsignals" class="def record field anchored"><a href="#type-rusage.ru_nsignals" class="anchor"></a><code><span>ru_nsignals : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Signals received</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_nvcsw" class="def record field anchored"><a href="#type-rusage.ru_nvcsw" class="anchor"></a><code><span>ru_nvcsw : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Voluntary context switches</p><span class="comment-delim">*)</span></div></li><li id="type-rusage.ru_nivcsw" class="def record field anchored"><a href="#type-rusage.ru_nivcsw" class="anchor"></a><code><span>ru_nivcsw : int64;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Involuntary context switches</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><h3 id="resource-limit-functions"><a href="#resource-limit-functions" class="anchor"></a>Resource limit functions</h3><div class="odoc-spec"><div class="spec value anchored" id="val-getrlimit"><a href="#val-getrlimit" class="anchor"></a><code><span><span class="keyword">val</span> getrlimit : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-rlimit">rlimit</a></span></code></div><div class="spec-doc"><p><code>getrlimit resource</code> returns the current resource limits for <code>resource</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Unix.Unix_error</code> <p>on failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-setrlimit"><a href="#val-setrlimit" class="anchor"></a><code><span><span class="keyword">val</span> setrlimit : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rlimit">rlimit</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>setrlimit resource limits</code> sets the resource limits for <code>resource</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Unix.Unix_error</code> <p>on failure</p></li></ul></div></div><h3 id="resource-usage-functions"><a href="#resource-usage-functions" class="anchor"></a>Resource usage functions</h3><div class="odoc-spec"><div class="spec value anchored" id="val-getrusage"><a href="#val-getrusage" class="anchor"></a><code><span><span class="keyword">val</span> getrusage : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-rusage">rusage</a></span></code></div><div class="spec-doc"><p><code>getrusage who</code> returns resource usage statistics. <code>who</code> should be <a href="#val-rusage_self"><code>rusage_self</code></a> or <a href="#val-rusage_children"><code>rusage_children</code></a>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Unix.Unix_error</code> <p>on failure</p></li></ul></div></div><h3 id="priority-functions"><a href="#priority-functions" class="anchor"></a>Priority functions</h3><div class="odoc-spec"><div class="spec value anchored" id="val-getpriority"><a href="#val-getpriority" class="anchor"></a><code><span><span class="keyword">val</span> getpriority : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>getpriority which who</code> returns the priority of process, process group, or user. <code>which</code> should be <a href="#val-prio_process"><code>prio_process</code></a>, <a href="#val-prio_pgrp"><code>prio_pgrp</code></a>, or <a href="#val-prio_user"><code>prio_user</code></a>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Unix.Unix_error</code> <p>on failure</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-setpriority"><a href="#val-setpriority" class="anchor"></a><code><span><span class="keyword">val</span> setpriority : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>setpriority which who prio</code> sets the priority.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Unix.Unix_error</code> <p>on failure</p></li></ul></div></div></div></body></html>
